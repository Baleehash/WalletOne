<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - WalletOne</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#FF6B6B',
                        accent: '#10B981',
                        warning: '#F59E0B',
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-100%); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.5s ease-out forwards; }
        .animate-slideDown { animation: slideDown 0.3s ease-out forwards; }
        .animate-scaleIn { animation: scaleIn 0.3s ease-out forwards; }
        .animate-pulse { animation: pulse 2s ease-in-out infinite; }
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .floating-nav {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
            transform: translateY(-4px);
        }
        .modal-backdrop {
            backdrop-filter: blur(8px);
            background: rgba(0, 0, 0, 0.5);
        }
        .feature-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            animation: pulse 3s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-primary text-white p-4 shadow-lg animate-slideDown">
        <div class="max-w-md mx-auto flex items-center justify-between md:max-w-2xl">
            <div>
                <h1 class="text-xl font-black md:text-2xl">WalletOne</h1>
                <p class="text-xs opacity-90">Satu Aplikasi, Semua Dompet</p>
            </div>
            <div class="flex items-center space-x-3">
                <button class="relative p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                    </svg>
                    <span class="absolute -top-1 -right-1 w-5 h-5 bg-secondary rounded-full text-xs flex items-center justify-center font-bold">3</span>
                </button>
                <button onclick="showQRModal()" class="p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Feature Highlight Banner -->
    <div class="max-w-md mx-auto px-4 py-3 md:max-w-2xl animate-fadeInUp">
        <div class="feature-badge rounded-2xl shadow-lg p-4 text-white">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                    </div>
                    <div>
                        <p class="text-xs font-bold">Fitur Unggulan!</p>
                        <p class="text-xs opacity-90">Gabungkan Semua E-Wallet</p>
                    </div>
                </div>
                <button onclick="showFeaturesModal()" class="text-xs font-bold bg-white bg-opacity-20 px-3 py-1.5 rounded-lg hover:bg-opacity-30 transition">
                    Lihat
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="p-4 pb-24 max-w-md mx-auto md:max-w-2xl">
        <!-- Total Balance Card -->
        <div class="bg-white rounded-3xl shadow-xl p-6 mb-6 md:p-8 animate-fadeInUp">
            <div class="flex items-start justify-between mb-4">
                <div class="flex-1">
                    <p class="text-sm text-gray-600 mb-2 md:text-base">Total Saldo Gabungan</p>
                    <div class="flex items-center space-x-3">
                        <h2 id="totalBalance" class="text-4xl font-black text-gray-900 md:text-5xl">Rp 2.450.000</h2>
                        <button onclick="toggleBalance()" class="p-2 hover:bg-gray-100 rounded-lg transition">
                            <svg id="eyeIcon" class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                            </svg>
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 mt-1 md:text-sm">Dari 3 akun terhubung</p>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4 pt-4 border-t border-gray-200">
                <div>
                    <p class="text-xs text-gray-500 mb-1">Pemasukan</p>
                    <p class="text-lg font-bold text-accent">+Rp 1.5jt</p>
                </div>
                <div>
                    <p class="text-xs text-gray-500 mb-1">Pengeluaran</p>
                    <p class="text-lg font-bold text-secondary">-Rp 3.2jt</p>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="grid grid-cols-4 gap-3 mb-6 animate-fadeInUp delay-100">
            <a href="transfer.html" class="flex flex-col items-center card-hover">
                <div class="w-16 h-16 bg-primary rounded-2xl shadow-lg flex items-center justify-center mb-2">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z"/>
                    </svg>
                </div>
                <span class="text-xs font-semibold text-gray-700">Transfer</span>
            </a>

            <button onclick="showQRModal()" class="flex flex-col items-center card-hover">
                <div class="w-16 h-16 bg-accent rounded-2xl shadow-lg flex items-center justify-center mb-2">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm2 2V5h1v1H5zM3 13a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1v-3zm2 2v-1h1v1H5zM13 3a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1V4a1 1 0 00-1-1h-3zm1 2v1h1V5h-1z" clip-rule="evenodd"/>
                        <path d="M11 4a1 1 0 10-2 0v1a1 1 0 002 0V4zM10 7a1 1 0 011 1v1h2a1 1 0 110 2h-3a1 1 0 01-1-1V8a1 1 0 011-1zM16 9a1 1 0 100 2 1 1 0 000-2zM9 13a1 1 0 011-1h1a1 1 0 110 2v2a1 1 0 11-2 0v-3zM7 11a1 1 0 100-2H4a1 1 0 100 2h3zM17 13a1 1 0 01-1 1h-2a1 1 0 110-2h2a1 1 0 011 1zM16 17a1 1 0 100-2h-3a1 1 0 100 2h3z"/>
                    </svg>
                </div>
                <span class="text-xs font-semibold text-gray-700">Scan QR</span>
            </button>

            <button onclick="showTopUpModal()" class="flex flex-col items-center card-hover">
                <div class="w-16 h-16 bg-warning rounded-2xl shadow-lg flex items-center justify-center mb-2">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                </div>
                <span class="text-xs font-semibold text-gray-700">Top Up</span>
            </button>

            <a href="history.html" class="flex flex-col items-center card-hover">
                <div class="w-16 h-16 bg-secondary rounded-2xl shadow-lg flex items-center justify-center mb-2">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                    </svg>
                </div>
                <span class="text-xs font-semibold text-gray-700">Riwayat</span>
            </a>
        </div>

        <!-- Monthly Budget Limit -->
        <div class="bg-white rounded-2xl shadow-lg p-5 mb-6 md:p-6 animate-fadeInUp delay-150">
            <div class="flex items-center justify-between mb-3">
                <div class="flex items-center space-x-2">
                    <svg class="w-5 h-5 text-warning" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    <h3 class="text-sm font-bold text-gray-900 md:text-base">Budget Bulanan</h3>
                </div>
                <button onclick="showBudgetModal()" class="text-primary text-xs font-semibold hover:text-opacity-80 transition">Atur</button>
            </div>
            <p class="text-xs text-gray-500 mb-2">Pengeluaran bulan ini</p>
            <div class="flex items-end justify-between mb-2">
                <span class="text-lg font-bold text-gray-900" id="currentSpending">Rp 3.200.000</span>
                <span class="text-sm text-gray-500" id="budgetLimit">/ Rp 3.800.000</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                <div id="budgetBar" class="bg-warning h-3 rounded-full transition-all duration-500" style="width: 84%"></div>
            </div>
            <p class="text-xs text-gray-500 mt-2" id="budgetText">84% terpakai - Sisa Rp 600.000</p>
        </div>

        <!-- Savings Goal -->
        <div class="bg-white rounded-2xl shadow-lg p-5 mb-6 md:p-6 animate-fadeInUp delay-200">
            <div class="flex items-center justify-between mb-3">
                <div class="flex items-center space-x-2">
                    <svg class="w-5 h-5 text-accent" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                    </svg>
                    <h3 class="text-sm font-bold text-gray-900 md:text-base">Target Menabung</h3>
                </div>
                <button onclick="showEditGoalModal()" class="text-primary text-xs font-semibold hover:text-opacity-80 transition">Edit</button>
            </div>
            <p class="text-xs text-gray-500 mb-2" id="goalName">Liburan ke Bali</p>
            <div class="flex items-end justify-between mb-2">
                <span class="text-lg font-bold text-gray-900" id="currentSavings">Rp 2.450.000</span>
                <span class="text-sm text-gray-500" id="targetSavings">/ Rp 5.000.000</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                <div id="progressBar" class="bg-accent h-3 rounded-full transition-all duration-500" style="width: 49%"></div>
            </div>
            <p class="text-xs text-gray-500 mt-2" id="progressText">49% tercapai - Kurang Rp 2.550.000 lagi!</p>
        </div>

        <!-- E-Wallet Cards -->
        <div class="space-y-3 mb-6 animate-fadeInUp delay-300">
            <div class="flex items-center justify-between mb-3">
                <h3 class="text-sm font-bold text-gray-700 md:text-base">Saldo Individual</h3>
                <button onclick="showAddAccountModal()" class="text-primary text-xs font-semibold hover:text-opacity-80 transition">+ Tambah Akun</button>
            </div>

            <div class="bg-white rounded-2xl shadow-md p-4 flex items-center justify-between card-hover md:p-5">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center md:w-14 md:h-14">
                        <span class="text-white font-bold text-lg md:text-xl">D</span>
                    </div>
                    <div>
                        <p class="font-bold text-gray-900 md:text-lg">DANA</p>
                        <p class="text-sm text-gray-600 md:text-base">Rp 850.000</p>
                    </div>
                </div>
                <button onclick="showTopUpModal('DANA')" class="bg-primary text-white px-5 py-2.5 rounded-xl text-xs font-bold hover:bg-opacity-90 transition md:px-6 md:text-sm">
                    Top Up
                </button>
            </div>

            <div class="bg-white rounded-2xl shadow-md p-4 flex items-center justify-between card-hover md:p-5">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center md:w-14 md:h-14">
                        <span class="text-white font-bold text-lg md:text-xl">G</span>
                    </div>
                    <div>
                        <p class="font-bold text-gray-900 md:text-lg">GoPay</p>
                        <p class="text-sm text-gray-600 md:text-base">Rp 1.200.000</p>
                    </div>
                </div>
                <button onclick="showTopUpModal('GoPay')" class="bg-primary text-white px-5 py-2.5 rounded-xl text-xs font-bold hover:bg-opacity-90 transition md:px-6 md:text-sm">
                    Top Up
                </button>
            </div>

            <div class="bg-white rounded-2xl shadow-md p-4 flex items-center justify-between card-hover md:p-5">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center md:w-14 md:h-14">
                        <span class="text-white font-bold text-lg md:text-xl">S</span>
                    </div>
                    <div>
                        <p class="font-bold text-gray-900 md:text-lg">ShopeePay</p>
                        <p class="text-sm text-gray-600 md:text-base">Rp 400.000</p>
                    </div>
                </div>
                <button onclick="showTopUpModal('ShopeePay')" class="bg-primary text-white px-5 py-2.5 rounded-xl text-xs font-bold hover:bg-opacity-90 transition md:px-6 md:text-sm">
                    Top Up
                </button>
            </div>
        </div>
    </main>

    <!-- Floating Bottom Navigation -->
    <nav class="fixed bottom-4 left-4 right-4 floating-nav rounded-3xl shadow-2xl border border-gray-200 z-50">
        <div class="max-w-md mx-auto grid grid-cols-4 md:max-w-2xl">
            <a href="index.html" class="flex flex-col items-center py-4 text-primary relative">
                <div class="absolute top-0 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-primary rounded-full"></div>
                <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                </svg>
                <span class="text-xs font-bold">Home</span>
            </a>
            <a href="history.html" class="flex flex-col items-center py-4 text-gray-400 hover:text-primary transition">
                <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                </svg>
                <span class="text-xs font-medium">Riwayat</span>
            </a>
            <a href="budget.html" class="flex flex-col items-center py-4 text-gray-400 hover:text-primary transition">
                <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                </svg>
                <span class="text-xs font-medium">Analisis</span>
            </a>
            <a href="profile.html" class="flex flex-col items-center py-4 text-gray-400 hover:text-primary transition">
                <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                </svg>
                <span class="text-xs font-medium">Profil</span>
            </a>
        </div>
    </nav>

    <script>
        // Simple frontend-only auth check
        if (!localStorage.getItem('walletone_logged_in')) {
            window.location.href = 'login.html';
        }
    </script>
    <script src="app.js"></script>
</body>
</html>